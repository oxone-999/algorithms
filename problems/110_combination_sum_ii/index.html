<!DOCTYPE html>
<html lang="en-us">

  <head>
    <meta name="generator" content="Hugo 0.58.3" />
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title> Combination Sum II </title>

    
    <meta name="description" content="Given a collection of candidate numbers (candidates) and a target number (target), find all unique combinations in candidates where the candidate numbers sums to target."> 
    
    
    
    
    

    <link rel="canonical" href="http://walterjgsp.github.io/algorithms/problems/110_combination_sum_ii/">  

    <link rel="shortcut icon" type="image/png"  href="/algorithms/img/icon.png" />


    <link href="https://fonts.googleapis.com/css?family=Rubik" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link href="/algorithms/css/body.css" rel="stylesheet" type="text/css">
    <link href="/algorithms/css/highlight.css" rel="stylesheet" type="text/css">
    <link href="/algorithms/css/syntax.css" rel="stylesheet" type="text/css">
    <link href="/algorithms/css/bulma.min.css" rel="stylesheet" type="text/css">
    <link href="/algorithms/css/bulma-extensions.min.css" rel="stylesheet" type="text/css">
  
    <script src="/algorithms/js/jquery-3.3.1.min.js" type="text/javascript">
    </script>

    <script src="/algorithms/js/bulma-extensions.min.js" type="text/javascript">
    </script>

    <script src="/algorithms/js/languages_colors.js" type="text/javascript">
    </script>

    <script src="/algorithms/js/masonry.pkgd.min.js" type="text/javascript">
    </script>

    <script src="/algorithms/js/isotope.pkgd.min.js" type="text/javascript">
    </script>

  </head>


  <body>
    <header> <nav class="navbar is-spaced has-shadow is-light" role="navigation" aria-label="main navigation">
  <div class="navbar-brand">
      <a class="navbar-item" href="http://walterjgsp.github.io/algorithms/">
        <img class="has-text-link" src="/algorithms/img/algorithm.svg"  >
      </a>

    <a role="button" class="navbar-burger burger" aria-label="menu" aria-expanded="false" data-target="navbarMain">
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
      <span aria-hidden="true"></span>
    </a>
  </div>

  <div id="navbarMain" class="navbar-menu">
    <div class="navbar-start">
      
      
       <a class="navbar-item" href="http://walterjgsp.github.io/algorithms/problems/" >
         Problems
       </a>
     
       <a class="navbar-item" href="http://walterjgsp.github.io/algorithms/structures/" >
         Structures
       </a>
     
       <a class="navbar-item" href="http://walterjgsp.github.io/algorithms/faq/" >
         FAQ
       </a>
     

    </div>

    <div class="navbar-end">
        
        <a class="navbar-item" href="http://walterjgsp.github.io/algorithms/">English</a>
        
        <a class="navbar-item" href="http://walterjgsp.github.io/algorithms/pt/">Português</a>
        
    </div>
  </div>
</nav>
 </header>
    <main>
  <div id="main">
    <section class="hero ">
      <div class="hero-body has-text-centered">
        <h1 class="title is-size-1" >Combination Sum II</h1>
        <span class="tag has-text-white level_tag" value=1 >Easy</span>
        
          <span class="has-text-white tag is-warning" value=C&#43;&#43;>C&#43;&#43;</span>
        
      </div>
    </section>
    <div class="section container">

    <h2 class="title is-4"> Problem Statement </h2>

<p>Given a collection of candidate numbers (candidates) and a target number (target), find all unique combinations in candidates where the candidate numbers sums to target.</p>

<p>Each number in candidates may only be used once in the combination.</p>

<p><strong><em>Note:</em></strong></p>

<p>All numbers (including target) will be positive integers.
The solution set must not contain duplicate combinations.</p>

<h2 class="title is-4"> Questions to ask </h2>

<p>Is the input vector already ordered? No</p>

<p>Can the input vector be modified? Yes</p>

<h2 class="title is-5"> Solution </h2>

<p>This problem is solved by a recursive and intelligent (brute force) method. It is enough to make an algorithm that has as the objective to test all the possibilities and taking advantage of the constraints of the problem to perform prunings to not process situations that do not make sense.</p>

<p>Before starting recursive processing, you need to sort the input vector, so it becomes easy to ensure that duplicate solutions will not occur.</p>

<p>The recursion algorithm will receive as parameters: the candidate vector, the target, the current vector that is a subset of the candidate vector, the sum of all values of the current vector, the position currently being processed in the candidate vector . In recursion there are three situations:</p>

<p><div class = "margin_left">
   <ol>
     <li> The current sum value is less than target </li>
     <li> The value of the current sum is equal to the target </li>
     <li> Current sum value is higher than target </li>
   </ol>
</div>
</br></p>

<p>In the third case just return, the constraints that all numbers are positive ensures that any further processing will only increase the current value. In the second case the result was found for that combination of the current vector, save it in the result array and return because of the same constraint of only positive values. In the first case you must perform the processing.</p>

<p>The processing consists of, for each position of the candidate vector starting from the received position as parameter + 1, put this element in the vector representing the subset of the candidates, add the value to the variable that represents all the values of the current subset, execute the recursive call and at the end remove that element from the subset. Do this until all the elements have been processed.</p>

<p>The implementation of this code is:</p>

<div class="highlight"><pre class="chroma"><code class="language-cpp" data-lang="cpp"><span class="k">class</span><span class="err"> </span><span class="nc">Solution</span><span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">result</span><span class="p">;</span>

    <span class="kt">void</span> <span class="nf">helper</span><span class="p">(</span><span class="k">const</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">nums</span><span class="p">,</span> <span class="k">const</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">target</span><span class="p">,</span> <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">curr</span><span class="p">,</span> <span class="kt">int</span> <span class="o">&amp;</span><span class="n">currSum</span><span class="p">,</span> <span class="kt">int</span> <span class="n">pos</span><span class="p">){</span>
        <span class="k">if</span><span class="p">(</span><span class="n">currSum</span><span class="o">&gt;</span><span class="n">target</span><span class="p">){</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">if</span><span class="p">(</span><span class="n">currSum</span> <span class="o">==</span> <span class="n">target</span><span class="p">){</span>
            <span class="n">result</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">curr</span><span class="p">);</span>
            <span class="k">return</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">pos</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
            <span class="n">curr</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
            <span class="n">currSum</span><span class="o">+=</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
            <span class="n">helper</span><span class="p">(</span><span class="n">nums</span><span class="p">,</span><span class="n">target</span><span class="p">,</span><span class="n">curr</span><span class="p">,</span><span class="n">currSum</span><span class="p">,</span><span class="n">i</span><span class="p">);</span>
            <span class="n">curr</span><span class="p">.</span><span class="n">pop_back</span><span class="p">();</span>
            <span class="n">currSum</span><span class="o">-=</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>

            <span class="k">while</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="o">&lt;</span><span class="n">nums</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&amp;&amp;</span> <span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">==</span><span class="n">nums</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
                <span class="n">i</span><span class="o">++</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>

<span class="k">public</span><span class="o">:</span>
    <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&gt;</span> <span class="n">combinationSum2</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;&amp;</span> <span class="n">candidates</span><span class="p">,</span> <span class="kt">int</span> <span class="n">target</span><span class="p">){</span>
        <span class="n">result</span><span class="p">.</span><span class="n">clear</span><span class="p">();</span>
        <span class="n">sort</span><span class="p">(</span><span class="n">candidates</span><span class="p">.</span><span class="n">begin</span><span class="p">(),</span><span class="n">candidates</span><span class="p">.</span><span class="n">end</span><span class="p">());</span>
        <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">curr</span><span class="p">;</span>
        <span class="kt">int</span> <span class="n">currSum</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">helper</span><span class="p">(</span><span class="n">candidates</span><span class="p">,</span><span class="n">target</span><span class="p">,</span><span class="n">curr</span><span class="p">,</span><span class="n">currSum</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>
</code></pre></div>

<p>Time complexity: <strong>O(N!)</strong></p>


    <br/>
    <p class="is-size-7 has-text-right">
      question from
      <a href=https://leetcode.com/>LeetCode</a>
    </p>

    </div>

    <script type="text/javascript">
      $.each($( ".tag" ), function(i,val){
        $( this ).css("background-color",language_colors[val.attributes.value.value])
      })

      $.each($( ".level_tag" ), function(i,val){
        const level = level_object[val.attributes.value.value]
        $( this ).css("background-color",level.color)
        $( this ).text(level.value)
      })

    </script>
  </div>
</main>
    <footer>
    <footer class="footer">
    <nav class="level">
      <div class="level-left">
        <p>&copy; Licence MIT.</p>
      </div>
      <div class="level-right">
        
        
        <p class="level-item">
         <a href="/algorithms/problems/" >
           Problems
         </a>
       </p>
       
        <p class="level-item">
         <a href="/algorithms/structures/" >
           Structures
         </a>
       </p>
       
        <p class="level-item">
         <a href="/algorithms/faq/" >
           FAQ
         </a>
       </p>
       
      </div>
    </nav>

  </footer>

</footer>
  </body>



</html>
